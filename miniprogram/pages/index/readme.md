# index 页面 README 文档

## 页面概述

`index` 页面是应用的主界面，用于展示用户的账单列表，包括支出和收入记录。用户可以查看账单的详细信息，并进行日期选择和数据排序。

## 页面结构

该页面的主要功能包括：

- **账单列表展示**：显示用户的账单记录，包括日期、金额和类型。
- **日期选择**：用户可以选择特定的日期范围以查看账单。
- **总金额统计**：展示用户的总收入和总支出金额。
- **账单详情跳转**：用户可以点击某一账单以查看其详细信息。

## 关键功能

### 1. 初始化数据

- **获取用户信息**：在页面加载时，调用 `login` 云函数获取用户的唯一标识（openid）。
- **获取账单数据**：使用 `getUserBookList` 云函数获取当前用户的账单列表，并根据日期排序。

### 2. 数据处理

- **账单列表排序**：将账单按照日期降序排列，便于用户查看最新记录。
- **总金额计算**：计算并展示总收入和总支出金额，提供财务概览。

### 3. 交互功能

- **日期选择**：用户可以通过日期选择器选择要查看的年份和月份，系统会根据选择重新加载账单数据。
- **账单详情**：用户点击账单项后，导航至账单详情页面以查看更详细的信息。

## 云函数说明

### 1. `login.js`

- **功能**：处理用户登录，获取用户的唯一标识（openid）并存储用户信息。
- **返回值**：用户的openid和相关的用户信息。

### 2. `getUserBookList.js`

- **功能**：获取用户的账单列表。
- **输入参数**：
  - `bookYear`: 账单年份。
  - `bookMonth`: 账单月份。
- **返回值**：用户的账单记录列表。

## 页面交互

- 用户进入页面后，系统会自动加载用户的账单列表和总金额统计。
- 用户可以选择日期以过滤账单记录。
- 点击任意账单可跳转至详细账单页面。

## 注意事项

- 确保在调用云函数时，用户已登录并授权。
- 账单数据加载时，应处理可能的网络延迟和错误提示。
